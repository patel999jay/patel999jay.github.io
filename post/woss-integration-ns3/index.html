<!DOCTYPE html><html lang="en-us" >

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.8.0">

  

  
  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Jay Patel">

  
  
  
    
  
  <meta name="description" content="WOSS Integration Framework with Acoustic Toolbox with NS3-dev">

  
  <link rel="alternate" hreflang="en-us" href="https://patel999jay.github.io/post/woss-integration-ns3/">

  


  
  
  
  <meta name="theme-color" content="#3f51b5">
  

  
  
  
  <script src="/js/mathjax-config.js"></script>
  

  
  
  
  
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css" integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css" crossorigin="anonymous" title="hl-light">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css" crossorigin="anonymous" title="hl-dark" disabled>
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css" integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin="anonymous">
    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    

  

  
  
  
    
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">
    
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  





<script async src="https://www.googletagmanager.com/gtag/js?id=UA-108083777-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
      dataLayer.push(arguments);
  }

  function trackOutboundLink(url, target) {
    gtag('event', 'click', {
         'event_category': 'outbound',
         'event_label': url,
         'transport_type': 'beacon',
         'event_callback': function () {
           if (target !== '_blank') {
             document.location = url;
           }
         }
    });
    console.debug("Outbound link clicked: " + url);
  }

  function onClickCallback(event) {
    if ((event.target.tagName !== 'A') || (event.target.host === window.location.host)) {
      return;
    }
    trackOutboundLink(event.target, event.target.getAttribute('target'));  
  }

  gtag('js', new Date());
  gtag('config', 'UA-108083777-3', {});

  
  document.addEventListener('click', onClickCallback, false);
</script>


  


  
  

  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_hu0f6e84e9ab2e4a261b0b52bea5579b58_240147_32x32_fill_lanczos_center_2.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hu0f6e84e9ab2e4a261b0b52bea5579b58_240147_192x192_fill_lanczos_center_2.png">

  <link rel="canonical" href="https://patel999jay.github.io/post/woss-integration-ns3/">

  
  
  
  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@jay_patel888">
  <meta property="twitter:creator" content="@jay_patel888">
  
  <meta property="og:site_name" content="Jay Patel">
  <meta property="og:url" content="https://patel999jay.github.io/post/woss-integration-ns3/">
  <meta property="og:title" content="WOSS Integration with NS-3 | Jay Patel">
  <meta property="og:description" content="WOSS Integration Framework with Acoustic Toolbox with NS3-dev"><meta property="og:image" content="https://patel999jay.github.io/post/woss-integration-ns3/featured.png">
  <meta property="twitter:image" content="https://patel999jay.github.io/post/woss-integration-ns3/featured.png"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2020-10-19T19:46:19-03:00">
    
    <meta property="article:modified_time" content="2020-10-19T19:46:19-03:00">
  

  


    






  




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://patel999jay.github.io/post/woss-integration-ns3/"
  },
  "headline": "WOSS Integration with NS-3",
  
  "image": [
    "https://patel999jay.github.io/post/woss-integration-ns3/featured.png"
  ],
  
  "datePublished": "2020-10-19T19:46:19-03:00",
  "dateModified": "2020-10-19T19:46:19-03:00",
  
  "author": {
    "@type": "Person",
    "name": "Jay Patel"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "Jay Patel",
    "logo": {
      "@type": "ImageObject",
      "url": "https://patel999jay.github.io/images/icon_hu0f6e84e9ab2e4a261b0b52bea5579b58_240147_192x192_fill_lanczos_center_2.png"
    }
  },
  "description": "WOSS Integration Framework with Acoustic Toolbox with NS3-dev"
}
</script>

  

  


  


  





  <title>WOSS Integration with NS-3 | Jay Patel</title>

</head>
<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  









<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">Jay Patel</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">Jay Patel</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-end" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#about"><span>Home</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#posts"><span>Posts</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#projects"><span>Projects</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#featured"><span>Publications</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#featured"><span>Talks</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#contact"><span>Contact</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/files/cv.pdf"><span>CV</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      <li class="nav-item dropdown theme-dropdown">
        <a href="#" class="nav-link js-theme-selector" data-toggle="dropdown" aria-haspopup="true">
          <i class="fas fa-palette" aria-hidden="true"></i>
        </a>
        <div class="dropdown-menu">
          <a href="#" class="dropdown-item js-set-theme-light">
            <span>Light</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-dark">
            <span>Dark</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-auto">
            <span>Automatic</span>
          </a>
        </div>
      </li>
      

      

    </ul>

  </div>
</nav>


  <article class="article">

  




















  
  


<div class="article-container pt-3">
  <h1>WOSS Integration with NS-3</h1>

  

  


<div class="article-metadata">

  
  
  
  
  <div>
    

  
  <span class="font-weight-bold"><a href="/author/jay-patel/">Jay Patel</a></span>
  </div>
  
  

  
  <span class="article-date">
    
    
      
    
    Oct 19, 2020
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    10 min read
  </span>
  

  
  
  

  
  

</div>

  














</div>


<div class="article-header article-container featured-image-wrapper mt-4 mb-4" style="max-width: 563px; max-height: 322px;">
  <div style="position: relative">
    <img src="/post/woss-integration-ns3/featured.png" alt="" class="featured-image">
    <span class="article-header-caption">Credit: <a href="https://www.nsnam.org/">NS-3</a></span>
  </div>
</div>



  <div class="article-container">

    <div class="article-style">
      <h1 id="woss-integration-framework-with-acoustic-toolbox-with-ns3-dev-with-database-netcdf4-and-hdf5-support">WOSS Integration Framework with Acoustic Toolbox with NS3-dev (with Database, NETCDF4 and HDF5 support)</h1>
<p><code>WOSS</code> is a multi-threaded C++ framework that permits the integration of any existing underwater channel simulator that expects environmental data as input and provides as output a channel realization.</p>
<p>Currently, <code>WOSS</code> integrates the <code>Bellhop ray-tracing</code> program.</p>
<p>Thanks to its automation the user only has to specify the location in the world and the time where the simulation should take place. This is done by setting the simulated date and the wanted latitude and longitude of every node involved. The simulator automatically handles the rest (see technical description).</p>
<p><code>WOSS</code> can be integrated in any network simulator or simulation tool that supports <code>C++</code>.</p>
<p>You can find the <code>WOSS</code> repository 
<a href="https://github.com/MetalKnight/woss-ns3" target="_blank" rel="noopener">here</a> on github</p>
<p>&lsquo;woss-ns3&rsquo; relies on the following libraries:</p>
<pre><code class="language-bash">- WOSS
- NetCDF
- Acoustic Toolbox
</code></pre>
<p>First make sure you have <code>gfortran</code>,<code>gcc</code> and <code>gcxx compiler</code>.</p>
<p>Please checked if the GNU Fortran compiler was in my system by typing <code>gfortran --version</code>:</p>
<pre><code class="language-bash">GNU Fortran (Ubuntu 7.4.0-1ubuntu1~18.04.1) 7.4.0
Copyright (C) 2017 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
</code></pre>
<p>If you go for the GNU compiler, type:</p>
<pre><code class="language-bash">export FC=gfortran
</code></pre>
<h1 id="install-latest-acoustic-toolbox-march-2019">Install latest <code>Acoustic Toolbox</code> (March 2019)</h1>
<pre><code class="language-bash">cd ${HOME}/Documents
wget http://telecom.dei.unipd.it/ns/woss/files/at.zip
tar -xzf at.zip
cd at/at
make
sudo make install
</code></pre>
<p>Once installed, let&rsquo;s tell the system where to find our new libraries: (Please replace <code>ns</code> with your <code>hostname</code></p>
<pre><code class="language-bash">export PATH=/home/ns/Documents/at/at/Bellhop:/home/ns/Documents/at/at/:$PATH
</code></pre>
<p>You have to build support for <code>NETCDF4</code> and <code>HDF5</code> for <code>NS3</code>, <code>WOSS</code> and <code>Acoustic Toolbox</code>, Please make sure you follow this  steps for installation :</p>
<h5 id="export-environment">export environment</h5>
<pre><code class="language-bash">export F77=gfortran
export FC=gfortran
export CC=gcc
export CXX=g++
export CFLAGS=-fPIC
</code></pre>
<h2 id="step-1-install-compilers-and-building-tools">Step 1. Install compilers and building tools</h2>
<p>First let&rsquo;s check which Linux are you running with the command:</p>
<pre><code class="language-bash">lsb_release -ds
</code></pre>
<p>Will return something like:</p>
<pre><code class="language-bash">Debian GNU/Linux 9.8 (stretch)
</code></pre>
<ul>
<li>For <em>Debian/Ubuntu/Linux Mint</em>:</li>
</ul>
<pre><code class="language-bash">sudo apt-get update
sudo apt-get install wget nano gfortran m4 build-essential
</code></pre>
<h2 id="step-2-install-netcdf">Step 2. Install <code>NETCDF</code></h2>
<p>Until version 4.1.3, <code>NETCDF</code> was bundled in a single package. Since then, has been split off into independent distributions (<code>netCDF-C</code>, <code>netCDF-Fortran</code>, <code>netCDF-Java</code>, <code>netCDF-Python</code>, <code>netCDF-C++</code> and so on).</p>
<p>Let&rsquo;s start with downloading and installing <code>netCDF-C</code> in a new folder called <code>netcdf</code> in user home directory (e.g. <code>/home/ns/</code>):</p>
<pre><code class="language-bash">wget http://telecom.dei.unipd.it/ns/woss/files/netcdf-c-4.7.3.tar.gz
tar -xzf netcdf-c-4.7.3.tar.gz
cd netcdf-c-4.7.3
./configure --prefix=${HOME}/netcdf --disable-dap --disable-netcdf-4 --enable-shared
make
make check
sudo make install
cd ${HOME}
</code></pre>
<h2 id="step-3-now-please-install-hdf5-support-for-netcdf">Step 3. Now please install <code>HDF5</code> support for <code>NETCDF</code></h2>
<pre><code class="language-bash">wget http://telecom.dei.unipd.it/ns/woss/files/hdf5-1.8.13.tar.gz
tar -xzf hdf5-1.8.13.tar.gz
cd hdf5-1.8.13
./configure --enable-shared --prefix=${HOME}/netcdf --disable-dap --enable-fortran #If above command didn't work then please try ./configure --enable-shared --prefix=${HOME}/netcdf 
make
make check
sudo make install
cd ${HOME}
</code></pre>
<h2 id="step-4-again-configure-netcdf-with-hdf5-support">Step 4. Again configure <code>NETCDF</code> with <code>HDF5</code> support</h2>
<pre><code class="language-bash">cd netcdf-c-4.7.3
./configure --prefix=${HOME}/netcdf --disable-dap --enable-netcdf-4 --enable-shared CPPFLAGS=&quot;$CPPFLAGS -I${HOME}/netcdf/include&quot; LDFLAGS=&quot;$LDFLAGS -L${HOME}/netcdf/lib&quot; --enable-fortran --enable-cxx
make
make check
sudo make install
cd ${HOME}
</code></pre>
<h2 id="step-5-now-install-netcdf4-c-support">Step 5. Now install <code>NETCDF4 C++</code> support</h2>
<pre><code class="language-bash">wget http://telecom.dei.unipd.it/ns/woss/files/netcdf-cxx4-4.3.1.tar.gz
tar -xzf netcdf-cxx4-4.3.1.tar.gz
cd netcdf-cxx4-4.3.1
./configure --prefix=${HOME}/netcdf --enable-shared CPPFLAGS=&quot;$CPPFLAGS -I${HOME}/netcdf/include&quot; LDFLAGS=&quot;$LDFLAGS -L${HOME}/netcdf/lib&quot; 
make
make check
sudo make install
cd ${HOME}
</code></pre>
<p>Once installed, let&rsquo;s tell the system where to find our new libraries and export variables to .bashrc:</p>
<pre><code class="language-bash">export NETCDF=${HOME}/netcdf
export PATH=$NETCDF/bin:$PATH
export NETCDF_INCDIR=$NETCDF/include 
export NETCDF_LIBDIR=$NETCDF/lib
export LD_LIBRARY_PATH=$NETCDF/lib:$LD_LIBRARY_PATH
export PATH NETCDF
</code></pre>
<h2 id="step-6-install-woss-library-support">Step 6. Install <code>WOSS</code> library support</h2>
<pre><code class="language-bash">wget http://telecom.dei.unipd.it/ns/woss/files/WOSS-v1.10.0.tar.gz
tar -xzf WOSS-v1.10.0.tar.gz 
cd woss-1.10.0
./autogen.sh 
./configure --with-netcdf4=${HOME}/netcdf --with-pthread
make
make check
sudo make install
wget http://telecom.dei.unipd.it/ns/woss/files/WOSS-dbs-v1.4.0.tar.gz
tar -xzf WOSS-dbs-v1.4.0.tar.gz
cd dbs/bathymetry
wget https://www.bodc.ac.uk/data/open_download/gebco/GEBCO_15SEC/zip/  #this is almost ~ 12 GB database.
tar -xzf GEBCO_2019.zip #This is database used by WOSS, more details are available on http://telecom.dei.unipd.it/ns/woss/doxygen/database.html
</code></pre>
<h1 id="ns3-dev-installation"><code>NS3-dev</code> Installation</h1>
<pre><code class="language-bash">cd Documents/
mkdir workspace
cd workspace
wget https://www.nsnam.org/release/ns-allinone-3.30.tar.bz2
tar xjf ns-allinone-3.30.tar.bz2
cd ns-allinone-3.30/
./build.py --enable-examples --enable-tests
cd ns-3.30/
./waf --run scratch/scratch-simulator #To check everything working fine 
</code></pre>
<p>Please don&rsquo;t use sudo to build ns3-dev as it makes conficts when woss try to call bellhop.exe in runtime, to chech you have correctly set your PATH for acoustic toolbox,</p>
<pre><code class="language-bash">which bellhop.exe
</code></pre>
<p>It will show you path of your bellhop.exe, same like this,</p>
<pre><code class="language-bash">/home/ns/Documents/at/bin/bellhop.exe
</code></pre>
<h1 id="configure-woss-libraries-for-ns3-dev">configure <code>WOSS</code> libraries for <code>ns3-dev</code></h1>
<pre><code class="language-bash">cd ${HOME}/Documents/workspace/ns-allinone-3.30/ns-3.30/src
git clone https://github.com/MetalKnight/woss-ns3.git
tar xjf woss-ns3-master.zip #Remove zip file from src folder as this will conflict while building NS-3
mv woss-ns3-master woss-ns3 #Rename folder as woss-ns3, make sure folder name is correct to avoid config errors
cd ..
./waf -d debug --enable-tests --enable-examples --enable-sudo --with-woss-source=/home/ns/woss-1.10.0/ --with-woss-library=/home/ns/woss-1.10.0/woss --with-netcdf4-install=${HOME}/netcdf configure CXXFLAGS=&quot;-Wall -Werror -Wno-unused-variable&quot;  #this configure your ns3, Please make sure woss source(in my case i.e /home/ns/woss-1.10.0/) is correct and installed woss library (in my case i.e /home/ns/woss-1.10.0/woss) is provided with correct path, also make sure you put the correct path for netCDF(in my case i.e${HOME}/netcdf)
</code></pre>
<p>You can see, <code>./waf</code> will configure and please check if you got message in second last command line saying</p>
<pre><code class="language-bash"># WOSS Integration Framework    : enabled
</code></pre>
<p>In my case, It looks like,</p>
<pre><code class="language-bash">medit@medit-Vostro-230:~/Documents/workspace/ns-allinone-3.30/ns-3.30$ ./waf -d debug --enable-tests --enable-examples --enable-sudo --with-woss-source=/home/medit/woss-1.9.0/ --with-woss-library=/home/medit/woss-1.9.0/woss --with-netcdf4-install=${HOME}/netcdf configure
Setting top to                           : /home/ns/Documents/workspace/ns-allinone-3.30/ns-3.30 
Setting out to                           : /home/ns/Documents/workspace/ns-allinone-3.30/ns-3.30/build 
Checking for 'gcc' (C compiler)          : /usr/bin/gcc 
Checking for cc version                  : 7.4.0 
Checking for 'g++' (C++ compiler)        : /usr/bin/g++ 
Checking for compilation flag -Wl,--soname=foo support : ok 
Checking for compilation flag -std=c++11 support       : ok 
Checking boost includes                                : headers not found, please provide a --boost-includes argument (see help) 
Checking boost includes                                : headers not found, please provide a --boost-includes argument (see help) 
Checking for program 'python'                          : /usr/bin/python3 
Checking for python version &gt;= 2.3                     : 3.6.9 
python-config                                          : not found 
Checking for library python3.6m in LIBDIR              : not found 
Checking for library python3.6m in python_LIBPL        : yes 
Checking for header Python.h                           : Distutils not installed? Broken python installation? Get python-config now! 
Checking for click location                            : not found 
Checking for program 'pkg-config'                      : /usr/bin/pkg-config 
Checking for 'gtk+-3.0'                                : not found 
Checking for 'libxml-2.0'                              : not found 
checking for uint128_t                                 : not found 
checking for __uint128_t                               : yes 
Checking high precision implementation                 : 128-bit integer (default) 
Checking for header stdint.h                           : yes 
Checking for header inttypes.h                         : yes 
Checking for header sys/inttypes.h                     : not found 
Checking for header sys/types.h                        : yes 
Checking for header sys/stat.h                         : yes 
Checking for header dirent.h                           : yes 
Checking for header stdlib.h                           : yes 
Checking for header signal.h                           : yes 
Checking for header pthread.h                          : yes 
Checking for header stdint.h                           : yes 
Checking for header inttypes.h                         : yes 
Checking for header sys/inttypes.h                     : not found 
Checking for library rt                                : yes 
Checking for header sys/ioctl.h                        : yes 
Checking for header net/if.h                           : yes 
Checking for header net/ethernet.h                     : yes 
Checking for header linux/if_tun.h                     : yes 
Checking for header netpacket/packet.h                 : yes 
Checking for NSC location                              : not found 
Checking for 'sqlite3'                                 : not found 
Checking for header linux/if_tun.h                     : yes 
Checking the given WOSS source code path               : /home/ns/woss-1.9.0/ (given) 
Checking the given WOSS library path                   : /home/ns/woss-1.9.0/woss (given) 
Checking the given NetCDF4 and HDF5 install path       : /home/ns/netcdf (given) 
WOSS source code path is valid                         : /home/ns/woss-1.9.0/woss  
WOSS source code path is valid                         : /home/ns/woss-1.9.0/woss/woss_def  
WOSS source code path is valid                         : /home/ns/woss-1.9.0/woss/woss_db  
Checking the given WOSS library                        : yes 
NetCDF4 and HDF5 source code path                      : /home/ns/netcdf/include  
Checking the given NETCDF4 and HDF5 libraries          : yes 
Checking for program 'sudo'                            : /usr/bin/sudo 
Checking for program 'valgrind'                        : not found 
Checking for 'gsl'                                     : not found 
libgcrypt-config                                       : not found 
Checking for compilation flag -fstrict-aliasing support : ok 
Checking for compilation flag -fstrict-aliasing support : ok 
Checking for compilation flag -Wstrict-aliasing support : ok 
Checking for compilation flag -Wstrict-aliasing support : ok 
Checking for program 'doxygen'                          : not found 
---- Summary of optional NS-3 features:
Build profile                 : debug
Build directory               : 
BRITE Integration             : not enabled (BRITE not enabled (see option --with-brite))
DES Metrics event collection  : not enabled (defaults to disabled)
Emulation FdNetDevice         : enabled
Examples                      : enabled
File descriptor NetDevice     : enabled
GNU Scientific Library (GSL)  : not enabled (GSL not found)
Gcrypt library                : not enabled (libgcrypt not found: you can use libgcrypt-config to find its location.)
GtkConfigStore                : not enabled (library 'gtk+-3.0 &gt;= 3.0' not found)
MPI Support                   : not enabled (option --enable-mpi not selected)
NS-3 Click Integration        : not enabled (nsclick not enabled (see option --with-nsclick))
NS-3 OpenFlow Integration     : not enabled (Required boost libraries not found)
Network Simulation Cradle     : not enabled (NSC not found (see option --with-nsc))
PlanetLab FdNetDevice         : not enabled (PlanetLab operating system not detected (see option --force-planetlab))
PyViz visualizer              : not enabled (Python Bindings are needed but not enabled)
Python Bindings               : not enabled (Python library or headers missing)
Real Time Simulator           : enabled
SQlite stats data output      : not enabled (library 'sqlite3' not found)
Tap Bridge                    : enabled
Tap FdNetDevice               : enabled
Tests                         : enabled
Threading Primitives          : enabled
Use sudo to set suid bit      : enabled
WOSS Integration Framework    : enabled
XmlIo                         : not enabled (library 'libxml-2.0 &gt;= 2.7' not found)
'configure' finished successfully (2.808s)
</code></pre>
<p>Check out second last line to make sure everything is perfectly configure.</p>
<p>Then build your <code>ns3</code> again,</p>
<pre><code class="language-bash">./waf build CXXFLAGS=&quot;-Wall -Werror -Wno-unused-variable&quot;
</code></pre>
<p>you&rsquo;ll see the following,</p>
<pre><code class="language-bash">Waf: Leaving directory `/home/ns/Documents/workspace/ns-allinone-3.30/ns-3.30/build'
Build commands will be stored in build/compile_commands.json
'build' finished successfully (11m35.055s)

Modules built:
antenna                   aodv                      applications              
bridge                    buildings                 config-store              
core                      csma                      csma-layout               
dsdv                      dsr                       energy                    
fd-net-device             flow-monitor              internet                  
internet-apps             lr-wpan                   lte                       
mesh                      mobility                  mpi                       
netanim (no Python)       network                   nix-vector-routing        
olsr                      point-to-point            point-to-point-layout     
propagation               sixlowpan                 spectrum                  
stats                     tap-bridge                test (no Python)          
topology-read             traffic-control           uan                       
virtual-net-device        wave                      wifi                      
wimax                     woss-ns3 (no Python)      

Modules not built (see ns-3 tutorial for explanation):
brite                     click                     openflow                  
visualizer                

</code></pre>
<p>Please run one of the example from scratch,</p>
<pre><code class="language-bash">./waf --run scratch/scratch-simulator
</code></pre>
<p>If you see the below output, Hola ! Its working now.</p>
<pre><code class="language-bash">Waf: Entering directory `/home/ns/Documents/workspace/ns-allinone-3.30/ns-3.30/build'
Waf: Leaving directory `/home/ns/Documents/workspace/ns-allinone-3.30/ns-3.30/build'
Build commands will be stored in build/compile_commands.json
'build' finished successfully (0.749s)
Scratch Simulator
</code></pre>
<p>Then Run WOSS Aloha Example with following example (please note that scratch folder is not yet added to module so you have to manually run your examples from the woss-ns3/examples folder itself.)</p>
<pre><code class="language-bash">medit@medit-Vostro-230:~/Documents/workspace/ns-allinone-3.30/ns-3.30$ ./waf --run src/woss-ns3/examples/woss-aloha-example 
Waf: Entering directory `/home/medit/Documents/workspace/ns-allinone-3.30/ns-3.30/build'
Waf: Leaving directory `/home/medit/Documents/workspace/ns-allinone-3.30/ns-3.30/build'
Build commands will be stored in build/compile_commands.json
'build' finished successfully (1.731s)
WossManagerResDbMT::checkConcurrentThreads() 6
WossManagerResDbMT::checkConcurrentThreads() 4
Received a packet of size 1000 bytes
Received a total of 1000 bytes at sink
</code></pre>
<h1 id="troubleshoot">Troubleshoot</h1>
<ol>
<li>If you&rsquo;re running example and run into problem with tap-creator like following then you have to manually change few settings.</li>
</ol>
<pre><code class="language-bash">./waf --run src/woss-ns3/examples/woss-aloha-example --command-template=&quot;gdb --args %s &lt;args&gt;&quot;
</code></pre>
<pre><code class="language-bash">Waf: Entering directory `/home/medit/Documents/workspace/ns-allinone-3.30/ns-3.30/build'
* Several tasks use the same identifier. Please check the information on
   https://waf.io/apidocs/Task.html?highlight=uid#waflib.Task.Task.uid
  - object 'SuidBuild_task' (
	{task 140252058325512: SuidBuild_task  -&gt; }) defined in 'tap-creator'
  - object 'SuidBuild_task' (
	{task 140252058325624: SuidBuild_task  -&gt; }) defined in 'tap-creator'
  - object 'SuidBuild_task' (
	{task 140252058325736: SuidBuild_task  -&gt; }) defined in 'tap-creator'
Waf: Leaving directory `/home/medit/Documents/workspace/ns-allinone-3.30/ns-3.30/build'
Build commands will be stored in build/compile_commands.json
'build' finished successfully (2.892s)
</code></pre>
<p>first figure out the problem with gdb command by running following command,</p>
<pre><code class="language-bash">./waf --run src/woss-ns3/examples/woss-aloha-example --command-template=&quot;gdb --args %s &lt;args
</code></pre>
<p>Then maybe the easier one for the time being, open the /home/usr/netcdf/include/ncGroup.h
and remove the line 18 from that file, which is not used by the library anyway.</p>
<ol start="2">
<li>If you&rsquo;re not able to find or use the common shared files/library,</li>
</ol>
<pre><code class="language-bash">medit@medit-Vostro-230:~/Documents/workspace/ns-allinone-3.30/ns-3.30$ ./waf --run src/woss-ns3/examples/woss-aloha-example 
Waf: Entering directory `/home/medit/Documents/workspace/ns-allinone-3.30/ns-3.30/build'
Waf: Leaving directory `/home/medit/Documents/workspace/ns-allinone-3.30/ns-3.30/build'
Build commands will be stored in build/compile_commands.json
'build' finished successfully (1.713s)
/home/medit/Documents/workspace/ns-allinone-3.30/ns-3.30/build/src/woss-ns3/examples/ns3.30-woss-aloha-example-debug: error while loading shared libraries: libWOSS.so.0: cannot open shared object file: No such file or directory
Command ['/home/medit/Documents/workspace/ns-allinone-3.30/ns-3.30/build/src/woss-ns3/examples/ns3.30-woss-aloha-example-debug'] exited with code 127
</code></pre>
<p>please do following to solve the error,</p>
<p>Edit /etc/ld.so.conf or create something in /etc/ld.so.conf.d/ to add /usr/local/lib and /usr/local/lib64. Then run ldconfig.</p>
<p>In my case,</p>
<pre><code class="language-bash">sudo nano /etc/ld.so.conf
</code></pre>
<p>Please make sure you have the correct lib in the same file, in my case it was,</p>
<pre><code class="language-bash">include /etc/ld.so.conf.d/*.conf
add /usr/local/lib:/usr/local/lib64  //added by Jay to access common or shared libraries
</code></pre>
<p>save the same file and configure again by</p>
<pre><code class="language-bash">sudo ldconfig
</code></pre>
<p>It should work now. In my case, it worked</p>
<pre><code class="language-bash">medit@medit-Vostro-230:~/Documents/workspace/ns-allinone-3.30/ns-3.30$ ./waf --run src/woss-ns3/examples/woss-aloha-example 
Waf: Entering directory `/home/medit/Documents/workspace/ns-allinone-3.30/ns-3.30/build'
Waf: Leaving directory `/home/medit/Documents/workspace/ns-allinone-3.30/ns-3.30/build'
Build commands will be stored in build/compile_commands.json
'build' finished successfully (1.731s)
WossManagerResDbMT::checkConcurrentThreads() 6
WossManagerResDbMT::checkConcurrentThreads() 4
Received a packet of size 1000 bytes
Received a total of 1000 bytes at sink
</code></pre>
<ol start="3">
<li>If you get the error of <code>./autogen.sh: 3: ./autogen.sh: aclocal: not found</code> or <code>./autogen.sh: 3: ./autogen.sh: libtoolize: not found</code>
then please install automake essentials for build in the ubuntu. You can also install with following commands:</li>
</ol>
<pre><code class="language-bash">sudo apt-get install autotools-dev
sudo apt-get install automake
sudo apt-get install libtool m4 automake
</code></pre>
<h4 id="you-can-also-download-all-this-instruction-to-your-local-machine">You can also download all this instruction to your local machine.</h4>
<ul>
<li>
<a href="Custom-WOSS.updated-md.pdf">Download</a></li>
</ul>
<h2 id="references"><strong>References</strong></h2>
<ol>
<li><a href="http://telecom.dei.unipd.it/ns/woss/,">http://telecom.dei.unipd.it/ns/woss/,</a> Special Thanks to <strong>
<a href="https://github.com/MetalKnight" target="_blank" rel="noopener">Federico Guerra</a></strong></li>
<li><a href="https://www.nsnam.org/">https://www.nsnam.org/</a></li>
<li><a href="https://github.com/MetalKnight/woss-ns3">https://github.com/MetalKnight/woss-ns3</a></li>
<li><a href="https://github.com/javirg/SWAN-Support/blob/master/recipes/build_linux_netcdf.md">https://github.com/javirg/SWAN-Support/blob/master/recipes/build_linux_netcdf.md</a></li>
</ol>

    </div>

    






<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/underwater-acoustic-communication/">Underwater Acoustic Communication</a>
  
  <a class="badge badge-light" href="/tag/bellhop-channel-modelling/">Bellhop Channel Modelling</a>
  
  <a class="badge badge-light" href="/tag/heterogeneous-marine-robots/">Heterogeneous marine robots</a>
  
  <a class="badge badge-light" href="/tag/network-simulator-3/">Network Simulator 3</a>
  
</div>



<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https://patel999jay.github.io/post/woss-integration-ns3/&amp;text=WOSS%20Integration%20with%20NS-3" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https://patel999jay.github.io/post/woss-integration-ns3/&amp;t=WOSS%20Integration%20with%20NS-3" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=WOSS%20Integration%20with%20NS-3&amp;body=https://patel999jay.github.io/post/woss-integration-ns3/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https://patel999jay.github.io/post/woss-integration-ns3/&amp;title=WOSS%20Integration%20with%20NS-3" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="whatsapp://send?text=WOSS%20Integration%20with%20NS-3%20https://patel999jay.github.io/post/woss-integration-ns3/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https://patel999jay.github.io/post/woss-integration-ns3/&amp;title=WOSS%20Integration%20with%20NS-3" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>












  
    
    





  
    
    
    
      
    
    
    
    <div class="media author-card content-widget-hr">
      
        
        <img class="avatar mr-3 avatar-circle" src="/author/jay-patel/avatar_huc4372bc14b703c1cdea0a20f2d6ce22f_71696_270x270_fill_q90_lanczos_center.jpg" alt="Jay Patel">
      

      <div class="media-body">
        <h5 class="card-title"><a href="https://patel999jay.github.io/">Jay Patel</a></h5>
        <h6 class="card-subtitle">PhD Student in Electrical &amp; Computer Engineering</h6>
        <p class="card-text">My research interests include electronics &amp; communications, distributed underwater robotics, mobile computing and programmable matter.</p>
        <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
    <li>
      <a href="mailto:patel.jay@dal.ca" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://twitter.com/jay_patel888" target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/patel999jay" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="/files/cv.pdf" >
        <i class="ai ai-cv"></i>
      </a>
    </li>
  
</ul>

      </div>
    </div>
  


  








<div class="article-widget">
  
<div class="post-nav">
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Previous</div>
    <a href="/post/fft-fun/" rel="prev">FFT Fun</a>
  </div>
  
</div>

</div>





  
  
  <div class="article-widget content-widget-hr">
    <h3>Related</h3>
    <ul>
      
      <li><a href="/post/bellhop-acoustic-toolbox/">Bellhop Acoustic Toolbox</a></li>
      
      <li><a href="/publication/icua-2020/">Underwater channel characterization for shallow water multi-domain communications</a></li>
      
      <li><a href="/talk/asacdma2020/">CDMA-based multi-domain communications network for marine robots</a></li>
      
    </ul>
  </div>
  





  </div>
</article>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js" integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin="anonymous"></script>

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.8/mermaid.min.js" integrity="sha256-lyWCDMnMeZiXRi7Zl54sZGKYmgQs4izcT7+tKc+KUBk=" crossorigin="anonymous" title="mermaid"></script>
      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js" integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/r.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/python.min.js"></script>
        
      

    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js" integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin="anonymous"></script>
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    <script>const isSiteThemeDark = false;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks",
        'slides' : "Slides"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.66c553246b0f279a03be6e5597f72b52.js"></script>

    






  
  
  <div class="container">
    <footer class="site-footer">
  

  <p class="powered-by">
    Copyright Jay Patel Â© 2023
  </p>

  
  






  <p class="powered-by">
    
    Published with
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic Website Builder</a>
    

    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
